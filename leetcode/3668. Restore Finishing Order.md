```java
class Solution {
    public int[] recoverOrder(int[] order, int[] friends) {
        boolean[] isExists = new boolean[order.length + 1];
        for (int friend : friends) {
            isExists[friend] = true;
        }

        int[] result = new int[friends.length];
        int index = 0;

        for (int o : order) {
            if (isExists[o]) {
                result[index++] = o;
                isExists[o] = false;
            }
        }

        return result;
    }
}
```