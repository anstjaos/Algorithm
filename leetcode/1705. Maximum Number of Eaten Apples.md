```java
class Solution {
    public int eatenApples(int[] apples, int[] days) {
        PriorityQueue<int[]> pq = new PriorityQueue<>((a, b) -> {
            return a[1] - b[1];
        });

        int day = 1;
        int result = 0;
        for (int i = 0; i < apples.length; i++) {
            if (apples[i] != 0) {
                pq.add(new int[]{apples[i], day + days[i]});
            }

            while (!pq.isEmpty()) {
                int[] top = pq.poll();
                if (top[1] <= day) {
                    continue;
                }

                result++;
                top[0]--;
                if (top[0] != 0) {
                    pq.add(top);
                }
                break;
            }

            day++;
        }

        while (!pq.isEmpty()) {
            int[] top = pq.poll();
            if (top[1] <= day) {
                continue;
            }

            result++;
            top[0]--;
            if (top[0] != 0) {
                pq.add(top);
            }
            day++;
        }

        return result;
    }
}
```